console.log("[Content Script] 로드됨.");function n(e){const t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),(document.head||document.documentElement).appendChild(t),t.onload=()=>{t.remove()}}n(chrome.runtime.getURL("injected.js"));chrome.runtime.onMessage.addListener((e,t,o)=>{switch(e.type){case"GET_STATE":console.log("[Content Script] DevTools로부터 GET_STATE 요청을 받았습니다."),window.postMessage({type:"GET_MSW_HANDLERS_REQUEST"},"*");break;case"TOGGLE_HANDLER":console.log("[Content Script] DevTools로부터 TOGGLE_HANDLER 요청을 받았습니다."),window.postMessage({type:"TOGGLE_HANDLER_REQUEST",payload:e.payload},"*");break;default:console.log("[Content Script] 알 수 없는 메시지 타입입니다.",e.type);break}return!0});window.addEventListener("message",e=>{if(e.source!==window)return;const{type:t,payload:o}=e.data;switch(t){case"GET_MSW_HANDLERS_RESPONSE":console.log("[Content Script] injected-script로부터 핸들러 응답을 받았습니다.",o),chrome.runtime.sendMessage({type:"STATE_UPDATE",payload:e.data.payload});break;case"TOGGLE_HANDLER_RESPONSE":console.log("[Content Script] injected-script로부터 TOGGLE_HANDLER_RESPONSE 응답을 받았습니다.",o);break;case"MSW_STATE_CHANGED_EVENT":console.log("[Content Script] injected-script로부터 MSW_STATE_CHANGED_EVENT 이벤트를 받았습니다."),chrome.runtime.sendMessage({type:"STATE_CHANGED_NOTIFICATION"});break;default:console.log("[Content Script] 알 수 없는 메시지 타입입니다.",t)}});
