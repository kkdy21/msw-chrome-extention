console.log("[Injected Script] 로드됨.");window.addEventListener("message",async o=>{var t;if(o.source!==window||!o.data||!o.data.type)return;const{type:s,payload:d}=o.data;if(s==="GET_MSW_HANDLERS_REQUEST"){if(console.log("[Injected Script] GET_MSW_HANDLERS_REQUEST 수신"),(t=window.mswControl)!=null&&t.getHandlers){const e=window.mswControl.getHandlers();window.postMessage({type:"GET_MSW_HANDLERS_RESPONSE",payload:e},"*")}else window.postMessage({type:"GET_MSW_HANDLERS_RESPONSE",payload:null,error:"MSW_NOT_FOUND"},"*");return}if(s==="TOGGLE_HANDLER_REQUEST"){const{id:e,enabled:n}=d;console.log("[Injected Script] TOGGLE_HANDLER 수신",e,n),n?window.mswControl.enableHandler(e):window.mswControl.disableHandler(e),window.postMessage({type:"TOGGLE_HANDLER_RESPONSE",payload:{id:e,enabled:n}},"*")}});window.addEventListener("mswStateChanged",()=>{console.log('[Injected Script] "mswStateChanged" 이벤트를 감지했습니다.'),window.postMessage({type:"MSW_STATE_CHANGED_EVENT"},"*")});
