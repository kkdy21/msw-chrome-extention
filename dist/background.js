const n={};chrome.runtime.onConnect.addListener(t=>{console.log("onConnect port",t);const o=(e,s)=>{if(console.log("devToolsListener message",e),e.name==="init"){n[e.tabId]=s,console.log("connections 추가 connections : ",n),s.postMessage({type:"INIT_SUCCESS"});return}n[e.tabId]?chrome.tabs.sendMessage(e.tabId,e):console.debug("connections 없음")};t.onMessage.addListener(o),t.onDisconnect.addListener(e=>{e.onMessage.removeListener(o);for(const s in n)if(n[s]===e){delete n[s];break}})});chrome.runtime.onMessage.addListener((t,o)=>{var e;return console.log("content-scriptmessage",t),console.log("sender",o),(e=o.tab)!=null&&e.id&&n[o.tab.id]&&n[o.tab.id].postMessage(t),!0});
