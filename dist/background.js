const n={};chrome.runtime.onConnect.addListener(o=>{const t=(e,i)=>{if(e.name==="init"){n[e.tabId]=i,i.postMessage({type:"INIT_SUCCESS"});return}n[e.tabId]&&chrome.tabs.sendMessage(e.tabId,e)};o.onMessage.addListener(t),o.onDisconnect.addListener(e=>{e.onMessage.removeListener(t);for(const i in n)if(n[i]===e){delete n[i];break}})});chrome.runtime.onMessage.addListener((o,t)=>{var e;return(e=t.tab)!=null&&e.id&&n[t.tab.id]&&n[t.tab.id].postMessage(o),!0});
